<!doctype html>
<html lang="en">
<head>

  <link rel="stylesheet" href="../css/theme.css" />

  <title>Sample map for #digpedutsc</title>

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.css" />

  <script src="http://cdn.leafletjs.com/leaflet-0.7/leaflet.js"></script>
  <script src="mapdata.geojson" type="text/javascript"></script>
  <link rel="stylesheet" href="http://leaflet.github.io/Leaflet.markercluster/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="http://leaflet.github.io/Leaflet.markercluster/dist/MarkerCluster.Default.css" />
  <script src="http://leaflet.github.io/Leaflet.markercluster/dist/leaflet.markercluster-src.js"></script>

</head>

<body>

  <div class="container">

    <div class="header">
      <h1>Leaflet.js Map for #digpedutsc</h1>
    </div>

        <div class="body">
          <h3>Sample data gathered via <a href="https://mapsengine.google.com/map/u/0/edit?mid=zb48ibVhZGh4.kZxzS0JvkYPs"> Google MapsEngine</a></h3>
        </div>

  <div id="map"></div>
  <style type="text/css">
    .leaflet-popup-content-wrapper .leaflet-popup-content {
      width:200px !important;
    }
  </style>

<script type="text/javascript">

  var tiles = L.tileLayer('http://{s}.tiles.mapbox.com/v3/sallain.iba9olom/{z}/{x}/{y}.png', {
        maxZoom: 18,
        attribution: '&copy; <a href="https://www.mapbox.com/tos/">Mapbox</a>'
      });

      var map = L.map('map').addLayer(tiles);

      var markers = L.markerClusterGroup();

      var geoJsonLayer = L.geoJson(mapdata, {
        onEachFeature: function (feature, layer) {
        layer.bindPopup('<p><b>@'+ feature.properties.screen_name +'</b></p><p><a href="'+ feature.properties.url +'" target="_blank">'+ feature.properties.text +'</a></p>');
        }
      });

      markers.addLayer(geoJsonLayer);

      map.addLayer(markers);
      map.fitBounds(markers.getBounds());
    </script>

<br /><br /><br />

<br /><br /><br />

  </body>
</html>
